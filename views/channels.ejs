<!DOCTYPE html>
<html>
<head>
    <title>ğŸ“¡ Channel Center</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<header class="main-header">
    <nav class="toolbar channels-toolbar">
        <div class="toolbar-left">
            <a href="/dashboard">ğŸ  Home</a>
            <a href="/channels">ğŸ“¡ Channels</a>
            <% if (typeof isAdmin !== 'undefined' && isAdmin) { %>
                <a href="/admin">ğŸ› ï¸ Admin</a>
            <% } %>
        </div>
        <div class="toolbar-right">
            <span class="user-badge">Hello, <%= username %></span>
            <button onclick="toggleZoom()">ğŸ” Zoom</button>
            <form action="/logout" method="POST">
                <button type="submit">âï¸ Logout</button>
            </form>
        </div>
    </nav>
</header>

<main class="main-content">
    <h2>ğŸ“¡ Channel Control Center</h2>

    <section>
        <h3>ğŸ›°ï¸ Available Channels</h3>
        <ul class="channel-list">
            <% channels.forEach(c => { %>
                <li class="channel-entry">
                    <div class="channel-meta">
                        <a href="/dashboard?channel=<%= c.name %>">#<%= c.name %></a>
                        <span class="channel-desc"><%= c.description || 'No description' %></span>
                        <small><%= c.name === 'general' ? 'ğŸ›¸ Built-in' : 'ğŸ§ª User-created' %></small>
                        
                      </div>
                    <% if (isAdmin) { %>
                        <form method="POST" action="/channels/delete" class="channel-delete-form">
                            <input type="hidden" name="name" value="<%= c.name %>">
                            <button type="submit">ğŸ—‘ï¸ Delete</button>
                        </form>
                    <% } %>
                </li>
            <% }) %>
        </ul>
    </section>
    <section>
        <h3>â• Create New Channel</h3>
        <form method="POST" action="/channels/create" class="create-channel-form">
            <input type="text" name="name" placeholder="#channel-name" required>
            <input type="text" name="description" placeholder="Optional description...">
            <button type="submit">â• Create</button>
        </form>
    </section>
    
    
</main>

<script>
    function toggleZoom() {
        document.body.classList.toggle('zoomed');
    }
</script>
</body>
</html>
