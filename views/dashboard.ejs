<!DOCTYPE html>
<html>
<head>
    <title>Chat Dashboard</title>
    <link rel="stylesheet" href="/styles.css">
</head>
<body>
<%- include('partials/_header') %>
<main class="main-content">
    <h2>Welcome, <%= username %></h2>

    <div class="chat-layout">
        <div class="user-list">
            <h4>Users</h4>
            <ul id="user-list">
                <% users.forEach(user => { %>
                    <li class="user-entry" data-username="<%= user.username %>">
                        <%= user.username %>
                        <% if (user.isOnline) { %><span class="online">●</span><% } else { %><span class="offline">○</span><% } %>
                    </li>
                <% }) %>
            </ul>
        </div>

        <div class="chat-box" id="chat-box"></div>
    </div>

    <form id="chat-form">
        <input type="text" name="message" id="message-input" placeholder="Type your message..." required>
        <input type="text" name="to" id="to-user" placeholder="(Optional) Private to...">
        <button type="submit">Send</button>
    </form>
</main>
<script src="/frontend.js"></script>
</body>
</html>
